<!Doctype html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Home-Portfolio</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/swiper-bundle.min.css">    
    </head>
    <body>
        <section>
        <nav class="navbar">
            <div class="Logo"><a href="index.html" style="color: white">Ruta<span style="color:rgb(4, 194, 201)">Axcel</span></a></div>
            <a href="#" class="toggle-button">
                <i class="fa fa-bars"></i>
            </a>  
          <div class="navbar-links">
                <ul>
                    <li><a href="#About">About</a></li>
                    <li><a href="#Skills">skills</a></li>
                    <li><a href="#Works">Works</a></li>
                    <li><a href="#ContactUs">Contact-Us</a></li>
                    <li><a href="#blogs">Blog</a></li>
                </ul>
            </div>
            <a href="login.html" style="color:rgb(4, 194, 201);" class="loginer">login</a>
          </div>
        </nav>
        <div class="hello"></div>
    </section>
        <section class="mainer">
            
            <div class="profile-container">
                 <div class="profile">
                     <div class="img-container">

                     </div>
                     <div class="text">
                         <h3 id="author"></h3>
                         <p id="dater"></p>
                     </div>
                 </div>
                 <div class="button">
                       <a href="#" class="btnShare">Share</a>
                 </div>

            </div>
            <div class="content">
                <h3 id="title"></h3>
                
                <div class="content-img-container" id="imger">

                </div >
                 <!-- <img class="content-img-container"  src="img/work2.jpg" > -->
                
                <p id="storyer">
                </p>
             </div>
             <div><span><i class="fa fa-heart" style="color: aquamarine">likes  </i></span></div>
             <div class="commenter">
                <h3 style="color:aquamarine">Comments:<span id="comamount"></span></h3>
                <div class="comer" id="comer">
                 <!-- <div style="color:antiquewhite;" class="com">
                    <h3>RutaAxcel</h3>
                    <p>I'm a web and mobile developer and data scientist with experience
                        for over a year. I am very much expert in HTML, CSS,Database design.
                       
                    </p>
                    
                   </div> -->
                   </div>
                <form id="formComment" >
                    <input type="hidden" name="id" id="ider">
                    <span id="comterror" style="color:rgba(255, 0, 25,0.5)"></span>
                 <input type="text" placeholder="Enter your name" id="commenter" name="commenter" style="color: white">

                 <span id="Emailcomterror" style="color:rgba(255, 0, 25,0.5)"></span>
                 <input type="text" placeholder="Enter your email" id="EmailCommenter" name="EmailCommenter"  style="color: white">

                 <span id="smscomterror" style="color:rgba(255, 0, 25,0.5)"></span>
                 <textarea style="height: 150px; color: white" id="smsCommenter" name="smsCommenterz"></textarea>
                 <button class="senderz" onclick="validorz()">Comment</button>
                 </form>
            </div>
            </section>
            <script src="addarticles.js"></script>
            
           
            <script>
                
                window.addEventListener('load',()=>{
                    var articleList = JSON.parse(localStorage.getItem('articles')) ?? [];
                const c= location.href.split('=')[1];
                const d= articleList.find(x=>x.id == c);
                document.getElementById('ider').value=d.id;
                document.getElementById('author').innerHTML=d.author;
                document.getElementById('dater').innerHTML=d.createdDate;
                document.getElementById('title').innerHTML=d.title;
                 document.getElementById('imger').innerHTML=`<img src="img/${d.photo}" style="width: 100%;height: 35rem;">`;
                document.getElementById('storyer').innerHTML=d.story;
                document.getElementById('comamount').innerHTML=d.comment.length;
                
               
                  }
                  );
                  const former = document.getElementById('formComment');
former.addEventListener('submit',(e)=>{
  e.preventDefault();
  saver();
  
});
const cr =document.getElementById('comer');

function saver(){
 var articleList = JSON.parse(localStorage.getItem('articles')) ?? [];
  const ider = document.getElementById('ider').value;
  const d= articleList.find(x=>x.id == ider);
  const blogcomments =d.comment;
  const commentr ={
   name: document.getElementById('commenter').value,
   email: document.getElementById('EmailCommenter').value,
   idea:document.getElementById('smsCommenter').value,   
  }
  blogcomments.push(commentr);  
  localStorage.setItem('articles', JSON.stringify(articleList));
  document.getElementById('comamount').innerHTML=blogcomments.length;
  blogcomments.forEach((value) => {
    cr.innerHTML +=`<div style="color:antiquewhite;" class="com">
                    <h3>${value.name}</h3>
                    <p>${value.idea}</p>
                   </div>`
  });
}

            </script> 


          <script>
                function validorz(){
             const x = document.getElementById('formComment');
             const y = document.getElementById('commenter');
             const z=document.getElementById('EmailCommenter');
             const w=document.getElementById('smsCommenter');
          
 x.addEventListener('submit',(e)=>{
             if(!(z.value).includes("@") || !((z.value).includes('.'))){
            e.preventDefault();
            
            document.getElementById('Emailcomterror').innerHTML="please Enter valid email";
           
            }else if(z.value ==="")
                                { 
            e.preventDefault();
            document.getElementById('Emailcomterror').innerHTML="Please Email is required";
        }else{
            document.getElementById('Emailcomterror').innerHTML="";
        }
        if(y.value === ""){
                e.preventDefault();
            document.getElementById('comterror').innerHTML="please your name is required"; 
            }
            else if( (y.value).length > 1 && (y.value).length <= 4){
                e.preventDefault();
                document.getElementById('comterror').innerHTML="Use your full name, this is short";
            }
            else{
                document.getElementById('comterror').innerHTML="";
            }

        if(w.value === ""){
                e.preventDefault();
            document.getElementById('smscomterror').innerHTML="Comment is required"; 
            }
            else if((w.value).length > 1 && (w.value).length <= 3){
                e.preventDefault();
                
                document.getElementById('smscomterror').innerHTML="your comment Is too short"; 
            
            }else{
                document.getElementById('smscomterror').innerHTML="";    
            }
            // if((w.value).length > 3 && ((z.value).includes('.')) && (y.value).length > 4){
                
            //     addercommenter();
            //     e.preventDefault();
                

            //  }
             });
            
             
            }
           
        
           
          </script>
      
    </body>
</html>